(function(e){function n(n){for(var o,a,c=n[0],s=n[1],d=n[2],u=0,l=[];u<c.length;u++)a=c[u],i[a]&&l.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);m&&m(n);while(l.length)l.shift()();return r.push.apply(r,d||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],o=!0,a=1;a<t.length;a++){var c=t[a];0!==i[c]&&(o=!1)}o&&(r.splice(n--,1),e=s(s.s=t[0]))}return e}var o={},a={app:0},i={app:0},r=[];function c(e){return s.p+"js/"+({"component-center-content":"component-center-content","component-media-controls":"component-media-controls","component-nav-actions":"component-nav-actions","page-cameras":"page-cameras","page-media":"page-media","page-media-downloads":"page-media-downloads","page-note-drawn":"page-note-drawn","page-notes":"page-notes","page-settings":"page-settings"}[e]||e)+"."+{"component-center-content":"fbc8beda","component-media-controls":"54c34cd3","component-nav-actions":"a095abd7","page-cameras":"083a76ea","page-media":"370b87f6","page-media-downloads":"9bf25ca9","page-note-drawn":"6ee65f33","page-notes":"24587e89","page-settings":"f403c289"}[e]+".js"}function s(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(e){var n=[],t={"component-center-content":1,"component-media-controls":1,"component-nav-actions":1,"page-cameras":1,"page-media":1,"page-media-downloads":1,"page-note-drawn":1,"page-notes":1,"page-settings":1};a[e]?n.push(a[e]):0!==a[e]&&t[e]&&n.push(a[e]=new Promise(function(n,t){for(var o="css/"+({"component-center-content":"component-center-content","component-media-controls":"component-media-controls","component-nav-actions":"component-nav-actions","page-cameras":"page-cameras","page-media":"page-media","page-media-downloads":"page-media-downloads","page-note-drawn":"page-note-drawn","page-notes":"page-notes","page-settings":"page-settings"}[e]||e)+"."+{"component-center-content":"63aa0ba7","component-media-controls":"5d994fa4","component-nav-actions":"afca8df0","page-cameras":"0e433876","page-media":"53a295eb","page-media-downloads":"0e433876","page-note-drawn":"78aa0b1f","page-notes":"da6491d8","page-settings":"0e433876"}[e]+".css",i=s.p+o,r=document.getElementsByTagName("link"),c=0;c<r.length;c++){var d=r[c],u=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===o||u===i))return n()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){d=l[c],u=d.getAttribute("data-href");if(u===o||u===i)return n()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=n,m.onerror=function(n){var o=n&&n.target&&n.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete a[e],m.parentNode.removeChild(m),t(r)},m.href=i;var E=document.getElementsByTagName("head")[0];E.appendChild(m)}).then(function(){a[e]=0}));var o=i[e];if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(function(n,t){o=i[e]=[n,t]});n.push(o[2]=r);var d,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(e),d=function(n){u.onerror=u.onload=null,clearTimeout(l);var t=i[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src,r=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");r.type=o,r.request=a,t[1](r)}i[e]=void 0}};var l=setTimeout(function(){d({type:"timeout",target:u})},12e4);u.onerror=u.onload=d,document.head.appendChild(u)}return Promise.all(n)},s.m=e,s.c=o,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)s.d(t,o,function(n){return e[n]}.bind(null,o));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="",s.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=n,d=d.slice();for(var l=0;l<d.length;l++)n(d[l]);var m=u;r.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"39cd":function(e,n,t){"use strict";var o=t("fe43"),a=t.n(o);a.a},"56d7":function(e,n,t){"use strict";t.r(n);var o={};t.r(o),t.d(o,"strlimit",function(){return L}),t.d(o,"millistohuman",function(){return j});t("a481"),t("5df3"),t("7f7f"),t("456d"),t("ac6a"),t("cadf"),t("551c"),t("f751"),t("097d");var a=t("31bd"),i=t("2b0e"),r=t("5f5b"),c=t("5b6c"),s=t.n(c),d=(t("d2db"),t("d1e7"),function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[e.$store.state.isLoading?t("div",{staticClass:"loading"},[t("center-content",[t("div",[t("b-spinner")],1),t("div",{staticClass:"message"},[e._v("Loading...")])])],1):e._e(),t("router-view",{staticClass:"page-content",class:{"is-loading":e.$store.state.isLoading}})],1)}),u=[],l={name:"app"},m=l,E=(t("39cd"),t("5c64"),t("2877")),f=Object(E["a"])(m,d,u,!1,null,"da650a68",null),p=f.exports,_=t("8c4f"),T=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"home"},[t("b-container",{staticClass:"actions",attrs:{fluid:""}},e._l(e.actionGroups,function(n,o){return t("b-row",{key:o},e._l(n,function(n,o){return t("b-col",{key:o,attrs:{xs:"4"}},[null!==n?t("router-link",{staticClass:"border rounded highlight",attrs:{to:n.to}},[t("div",{staticClass:"action-label"},[t("div",{staticClass:"item-icon"},[t("i",{staticClass:"material-icons"},[e._v(e._s(n.icon))])]),t("div",{staticClass:"item-label"},[e._v(e._s(n.label))])])]):e._e()],1)}),1)}),1),t("div",{staticClass:"settings-button"},[t("router-link",{staticClass:"click-area",attrs:{tag:"div",to:{name:"settings"}}}),t("router-link",{staticClass:"click-button",attrs:{tag:"div",to:{name:"settings"}}},[t("i",{staticClass:"material-icons"},[e._v("settings")])])],1),t("media-controls"),t("div",{staticClass:"close-button"},[t("div",{staticClass:"click-area",on:{click:e.close}}),t("div",{staticClass:"click-button",on:{click:e.close}},[t("i",{staticClass:"material-icons"},[e._v("close")])])]),t("b-modal",{attrs:{id:"modal-close",title:"Close app"},on:{ok:e.confirmClose}},[t("p",{staticClass:"my-4"},[e._v("Do you want to close the app?")])])],1)},S=[],g=t("ac91"),h={name:"home",data:function(){return{actions:[{to:{name:"note-drawn"},label:"Note",icon:"note_add"},{to:{name:"notes"},label:"Notes",icon:"notes"},{to:{name:"cameras"},label:"Cameras",icon:"videocam"},{to:{name:"media"},label:"Media",icon:"ondemand_video"},null,null]}},computed:{actionGroups:function(){var e=[];return this.actions.forEach(function(n,t){t%3===0&&e.push([]),e[e.length-1].push(n)}),e}},methods:{close:function(){this.$bvModal.show("modal-close")},confirmClose:function(){window.close()}},asyncData:function(e){var n=e.store;return Promise.all([n.dispatch(g["a"].FETCH_SETTINGS),n.dispatch(g["a"].FETCH_HOME_ACTIONS)])}},A=h,w=(t("c780"),Object(E["a"])(A,T,S,!1,null,"14a2516e",null)),v=w.exports;i["default"].use(_["a"]);var O,b,D=new _["a"]({routes:[{path:"/",name:"home",component:v},{path:"/settings",name:"settings",component:function(){return t.e("page-settings").then(t.bind(null,"26d3"))}},{path:"/notes",name:"notes",component:function(){return t.e("page-notes").then(t.bind(null,"0841"))}},{path:"/notes/drawn",name:"note-drawn",component:function(){return t.e("page-note-drawn").then(t.bind(null,"9cf3"))}},{path:"/notes/drawn/:id",name:"note-edit-drawn",component:function(){return t.e("page-note-drawn").then(t.bind(null,"9cf3"))}},{path:"/cameras",name:"cameras",component:function(){return t.e("page-cameras").then(t.bind(null,"b64b"))}},{path:"/media",name:"media",component:function(){return t.e("page-media").then(t.bind(null,"89b1"))}},{path:"/media-downloads",name:"media-downloads",component:function(){return t.e("page-media-downloads").then(t.bind(null,"0fca"))}}]}),I=t("2f62"),N=t("bd86"),R=(O={},Object(N["a"])(O,g["a"].FETCH_SETTINGS,function(e){var n=e.commit,t=e.state;return new Promise(function(e){t.isSettingsLoaded?e():(window.ipcRenderer.once("fetch-settings-reply",function(t,o){n(g["c"].SET_SETTINGS,o),n(g["c"].SET_SETTINGS,{}),e()}),window.ipcRenderer.send("fetch-settings"))})}),Object(N["a"])(O,g["a"].FETCH_HOME_ACTIONS,function(e){var n=e.commit;return new Promise(function(e){n(g["c"].SET_HOME_ACTIONS,{}),e()})}),Object(N["a"])(O,g["a"].FETCH_NOTES,function(e){var n=e.commit;return new Promise(function(e){window.ipcRenderer.once("note-list-drawns-reply",function(t,o){n(g["c"].SET_NOTES,o),e()}),window.ipcRenderer.send("note-list-drawns")})}),Object(N["a"])(O,g["a"].SAVE_NOTE,function(e,n){var t=n.id,o=n.content;return new Promise(function(e){window.ipcRenderer.once("note-drawn-save-reply",function(){e()}),window.ipcRenderer.send("note-drawn-save",{id:t,content:o})})}),Object(N["a"])(O,g["a"].DUPLICATE_NOTE,function(e,n){var t=e.commit;return new Promise(function(e){window.ipcRenderer.once("note-drawn-duplicate-reply",function(n,o){t(g["c"].ADD_NOTE,{note:o,mode:g["b"].PREPEND_DATA}),e()}),window.ipcRenderer.send("note-drawn-duplicate",n)})}),Object(N["a"])(O,g["a"].RENAME_NOTE,function(e,n){var t=e.commit,o=n.editId,a=n.newTitle;return new Promise(function(e){window.ipcRenderer.once("note-rename-reply",function(){t(g["c"].SET_NOTE_NAME,{editId:o,newTitle:a}),e()}),window.ipcRenderer.send("note-rename",{id:o,title:a})})}),Object(N["a"])(O,g["a"].REMOVE_NOTE,function(e,n){var t=e.commit;return new Promise(function(e){window.ipcRenderer.once("note-remove-reply",function(){t(g["c"].DELETE_NOTE,n),e()}),window.ipcRenderer.send("note-remove",n)})}),Object(N["a"])(O,g["a"].START_MEDIA_SERVER,function(e){var n=e.commit;return new Promise(function(e){window.ipcRenderer.once("media-server-start-reply",function(t,o,a){n(g["c"].SET_MEDIA_SERVER_ADDRESS,o),n(g["c"].SET_MEDIA_AS_CONFIGURED,a),e()}),window.ipcRenderer.send("media-server-start")})}),Object(N["a"])(O,g["a"].STOP_MEDIA_SERVER,function(e){var n=e.commit;return new Promise(function(e){window.ipcRenderer.once("media-server-stop-reply",function(){n(g["c"].SET_MEDIA_SERVER_ADDRESS,[]),n(g["c"].SET_MEDIA_AS_CONFIGURED,!1),n(g["c"].SET_MEDIA_LIST,{mediaType:"movies",list:null}),n(g["c"].SET_MEDIA_LIST,{mediaType:"shows",list:null}),e()}),window.ipcRenderer.send("media-server-stop")})}),Object(N["a"])(O,g["a"].WAIT_MEDIA_CONFIGURE,function(e){var n=e.commit;return new Promise(function(e){window.ipcRenderer.once("media-wait-configure-reply",function(){n(g["c"].SET_MEDIA_AS_CONFIGURED,!0),e()}),window.ipcRenderer.send("media-wait-configure")})}),Object(N["a"])(O,g["a"].FETCH_MEDIA_LIST,function(e,n){var t=e.commit,o=e.state,a=n.mediaType,i=n.refresh;return new Promise(function(e){-1!==["movies","shows"].indexOf(a)&&(i||!o.media.list[a])?(t(g["c"].SET_MEDIA_LIST,{mediaType:a,list:!1}),window.ipcRenderer.once("media-list-reply",function(n,o){t(g["c"].SET_MEDIA_LIST,{mediaType:a,list:o}),e()}),window.ipcRenderer.send("media-list",a)):e()})}),O),C=(t("20d6"),b={},Object(N["a"])(b,g["c"].SET_AS_LOADING,function(e,n){i["default"].set(e,"isLoading",n)}),Object(N["a"])(b,g["c"].SET_SETTINGS,function(e,n){i["default"].set(e.home,"minLines",n.home_min_lines)}),Object(N["a"])(b,g["c"].SET_HOME_ACTIONS,function(e,n){i["default"].set(e.home,"minLines",n.home_min_lines)}),Object(N["a"])(b,g["c"].SET_NOTES,function(e,n){e.notes=n}),Object(N["a"])(b,g["c"].ADD_NOTE,function(e,n){var t=n.note,o=n.mode;o===g["b"].PREPEND_DATA?e.notes.unshift(t):o===g["b"].APPEND_DATA&&e.notes.push(t)}),Object(N["a"])(b,g["c"].SET_NOTE_NAME,function(e,n){var t=n.editId,o=n.newTitle,a=e.notes.findIndex(function(e){var n=e.id;return n===t});-1!==a&&i["default"].set(e.notes[a],"title",o)}),Object(N["a"])(b,g["c"].DELETE_NOTE,function(e,n){var t=e.notes.findIndex(function(e){var t=e.id;return t===n});-1!==t&&i["default"].delete(e.notes,t)}),Object(N["a"])(b,g["c"].SET_MEDIA_SERVER_ADDRESS,function(e,n){i["default"].set(e.media,"serverAddress",n)}),Object(N["a"])(b,g["c"].SET_MEDIA_AS_CONFIGURED,function(e,n){i["default"].set(e.media,"isConfigured",n)}),Object(N["a"])(b,g["c"].SET_MEDIA_LIST,function(e,n){var t=n.mediaType,o=n.list;-1!==["movies","shows"].indexOf(t)&&i["default"].set(e.media.list,t,o)}),b),M={};i["default"].use(I["a"]);var y=new I["a"].Store({state:{isLoading:!1,isSettingsLoaded:!1,home:{minLines:2,itemsByLine:3,showMediaControls:!0,actions:[]},notes:[],media:{isConfigured:!1,serverAddress:[],list:{movies:null,shows:null}}},actions:R,mutations:C,getters:M}),P={methods:{setAsLoading:function(e){this.$store.commit(g["c"].SET_AS_LOADING,e)},waitLoadingFor:function(e){var n=this;this.setAsLoading(!0),e.then(function(){return n.setAsLoading(!1)}).catch(function(){return n.setAsLoading(!1)})}}};function L(e,n){return e.length>n?"".concat(e.substr(0,n-3).trim(),"..."):e}function j(e){var n=parseInt(e,10)/1e3,t=Math.floor(n/31536e3),o=Math.floor((n%=31536e3)/86400),a=Math.floor((n%=86400)/3600),i=Math.floor((n%=3600)/60),r=n%60;if(o||a||i||r){var c=[];return t&&c.push("".concat(t,"y")),o&&c.push("".concat(o,"d")),a&&c.push("".concat(a,"h")),i&&c.push("".concat(i,"m")),r>1&&!t&&!o&&c.push("".concat(r.toFixed(0),"s")),c.join(" ")}return"< 1s"}i["default"].component("media-controls",function(){return t.e("component-media-controls").then(t.bind(null,"6e9c"))}),i["default"].component("nav-actions",function(){return t.e("component-nav-actions").then(t.bind(null,"8fdf"))}),i["default"].component("center-content",function(){return t.e("component-center-content").then(t.bind(null,"90ad"))}),i["default"].mixin(P),Object.keys(o).forEach(function(e){i["default"].filter(e,o[e])}),i["default"].mixin({beforeRouteUpdate:function(e,n,t){var o=this.$options.asyncData;o?o({store:this.$store,route:e}).then(t):t()}}),i["default"].config.productionTip=!1,i["default"].use(r["a"]),i["default"].use(s.a),Object(a["sync"])(y,D);var F=new i["default"]({router:D,store:y,render:function(e){return e(p)}});D.onReady(function(){D.beforeResolve(function(e,n,t){var o=D.getMatchedComponents(e),a=D.getMatchedComponents(n),i=!1,r=o.filter(function(t,o){return i||(i=a[o]!==t,!i&&t.forceFetchNoMatched&&(i=e.name!==n.name),i)}),c=r.map(function(e){return e.asyncData}).filter(function(e){return e});return c.length?(Promise.all(c.map(function(n){return n({store:y,route:e})})).then(t),!0):t()}),F.$mount("#app"),D.replace("#")})},"5c64":function(e,n,t){"use strict";var o=t("c2ae"),a=t.n(o);a.a},a659:function(e,n,t){},ac91:function(e,n,t){"use strict";t.d(n,"b",function(){return o}),t.d(n,"a",function(){return a}),t.d(n,"c",function(){return i});var o={REPLACE_DATA:"REPLACE_DATA",APPEND_DATA:"APPEND_DATA",PREPEND_DATA:"PREPEND_DATA"},a={FETCH_SETTINGS:"FETCH_SETTINGS",FETCH_HOME_ACTIONS:"FETCH_HOME_ACTIONS",UPDATE_HOME_CONFIG:"UPDATE_HOME_CONFIG",FETCH_NOTES:"FETCH_NOTES",SAVE_NOTE:"SAVE_NOTE",DUPLICATE_NOTE:"DUPLICATE_NOTE",RENAME_NOTE:"RENAME_NOTE",REMOVE_NOTE:"REMOVE_NOTE",START_MEDIA_SERVER:"START_MEDIA_SERVER",STOP_MEDIA_SERVER:"STOP_MEDIA_SERVER",WAIT_MEDIA_CONFIGURE:"WAIT_MEDIA_CONFIGURE",FETCH_MEDIA_LIST:"FETCH_MEDIA_LIST"},i={SET_AS_LOADING:"SET_AS_LOADING",SET_SETTINGS:"SET_SETTINGS",SET_HOME_ACTIONS:"SET_HOME_ACTIONS",SET_NOTES:"SET_NOTES",ADD_NOTE:"ADD_NOTE",SET_NOTE_NAME:"SET_NOTE_NAME",DELETE_NOTE:"DELETE_NOTE",SET_MEDIA_SERVER_ADDRESS:"SET_MEDIA_SERVER_ADDRESS",SET_MEDIA_AS_CONFIGURED:"SET_MEDIA_AS_CONFIGURED",SET_MEDIA_LIST:"SET_MEDIA_LIST"}},c2ae:function(e,n,t){},c780:function(e,n,t){"use strict";var o=t("a659"),a=t.n(o);a.a},fe43:function(e,n,t){}});
//# sourceMappingURL=app.2ab7fe5e.js.map