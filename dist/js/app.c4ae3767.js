(function(e){function n(n){for(var o,a,s=n[0],c=n[1],d=n[2],u=0,l=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&l.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);E&&E(n);while(l.length)l.shift()();return r.push.apply(r,d||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],o=!0,a=1;a<t.length;a++){var s=t[a];0!==i[s]&&(o=!1)}o&&(r.splice(n--,1),e=c(c.s=t[0]))}return e}var o={},a={app:0},i={app:0},r=[];function s(e){return c.p+"js/"+({"component-center-content":"component-center-content","component-media-controls":"component-media-controls","component-nav-actions":"component-nav-actions","page-cameras":"page-cameras","page-media":"page-media","page-media-downloads":"page-media-downloads","page-note-drawn":"page-note-drawn","page-notes":"page-notes","page-settings":"page-settings"}[e]||e)+"."+{"component-center-content":"96c9b9bb","component-media-controls":"ba4aaea3","component-nav-actions":"48198bb1","page-cameras":"366d254d","page-media":"d0de61e3","page-media-downloads":"3c856217","page-note-drawn":"b4ceb995","page-notes":"a91b6c1e","page-settings":"ab76a500"}[e]+".js"}function c(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.e=function(e){var n=[],t={"component-center-content":1,"component-media-controls":1,"component-nav-actions":1,"page-cameras":1,"page-media":1,"page-media-downloads":1,"page-note-drawn":1,"page-notes":1,"page-settings":1};a[e]?n.push(a[e]):0!==a[e]&&t[e]&&n.push(a[e]=new Promise((function(n,t){for(var o="css/"+({"component-center-content":"component-center-content","component-media-controls":"component-media-controls","component-nav-actions":"component-nav-actions","page-cameras":"page-cameras","page-media":"page-media","page-media-downloads":"page-media-downloads","page-note-drawn":"page-note-drawn","page-notes":"page-notes","page-settings":"page-settings"}[e]||e)+"."+{"component-center-content":"d9448995","component-media-controls":"7816879d","component-nav-actions":"962acedb","page-cameras":"0e433876","page-media":"aae0d3b3","page-media-downloads":"0e433876","page-note-drawn":"161b12e6","page-notes":"2705118a","page-settings":"0e433876"}[e]+".css",i=c.p+o,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var d=r[s],u=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===o||u===i))return n()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){d=l[s],u=d.getAttribute("data-href");if(u===o||u===i)return n()}var E=document.createElement("link");E.rel="stylesheet",E.type="text/css",E.onload=n,E.onerror=function(n){var o=n&&n.target&&n.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete a[e],E.parentNode.removeChild(E),t(r)},E.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(E)})).then((function(){a[e]=0})));var o=i[e];if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((function(n,t){o=i[e]=[n,t]}));n.push(o[2]=r);var d,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e);var l=new Error;d=function(n){u.onerror=u.onload=null,clearTimeout(E);var t=i[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,t[1](l)}i[e]=void 0}};var E=setTimeout((function(){d({type:"timeout",target:u})}),12e4);u.onerror=u.onload=d,document.head.appendChild(u)}return Promise.all(n)},c.m=e,c.c=o,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)c.d(t,o,function(n){return e[n]}.bind(null,o));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="",c.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=n,d=d.slice();for(var l=0;l<d.length;l++)n(d[l]);var E=u;r.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"0453":function(e,n,t){"use strict";var o=t("2afd"),a=t.n(o);a.a},"2afd":function(e,n,t){},"55d8":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);var o={};t.r(o),t.d(o,"strlimit",(function(){return P})),t.d(o,"millistohuman",(function(){return j}));t("a481"),t("5df3"),t("7f7f"),t("456d"),t("ac6a"),t("cadf"),t("551c"),t("f751"),t("097d");var a=t("31bd"),i=t("2b0e"),r=t("5f5b"),s=t("5b6c"),c=t.n(s),d=(t("d2db"),t("d1e7"),function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[e.$store.state.isLoading?t("div",{staticClass:"loading"},[t("center-content",[t("div",[t("b-spinner")],1),t("div",{staticClass:"message"},[e._v("Loading...")])])],1):e._e(),t("router-view",{staticClass:"page-content",class:{"is-loading":e.$store.state.isLoading}})],1)}),u=[],l={name:"app"},E=l,m=(t("0453"),t("5c64"),t("2877")),f=Object(m["a"])(E,d,u,!1,null,"74953b9e",null),p=f.exports,_=t("8c4f"),T=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"home"},[t("b-container",{staticClass:"actions",attrs:{fluid:""}},e._l(e.actionGroups,(function(n,o){return t("b-row",{key:o},e._l(n,(function(n,o){return t("b-col",{key:o,attrs:{xs:"4"}},[null!==n?t("router-link",{staticClass:"border rounded highlight",attrs:{to:n.to}},[t("div",{staticClass:"action-label"},[t("div",{staticClass:"item-icon"},[t("i",{staticClass:"material-icons"},[e._v(e._s(n.icon))])]),t("div",{staticClass:"item-label"},[e._v(e._s(n.label))])])]):e._e()],1)})),1)})),1),t("div",{staticClass:"settings-button"},[t("router-link",{staticClass:"click-area",attrs:{tag:"div",to:{name:"settings"}}}),t("router-link",{staticClass:"click-button",attrs:{tag:"div",to:{name:"settings"}}},[t("i",{staticClass:"material-icons"},[e._v("settings")])])],1),t("media-controls"),t("div",{staticClass:"close-button"},[t("div",{staticClass:"click-area",on:{click:e.close}}),t("div",{staticClass:"click-button",on:{click:e.close}},[t("i",{staticClass:"material-icons"},[e._v("close")])])]),t("b-modal",{attrs:{id:"modal-close",title:"Close app"},on:{ok:e.confirmClose}},[t("p",{staticClass:"my-4"},[e._v("Do you want to close the app?")])])],1)},S=[],w=t("ac91"),h={name:"home",data:function(){return{actions:[{to:{name:"note-drawn"},label:"Note",icon:"note_add"},{to:{name:"notes"},label:"Notes",icon:"notes"},{to:{name:"media"},label:"Media",icon:"ondemand_video"},null,null]}},computed:{actionGroups:function(){var e=[];return this.actions.forEach((function(n,t){t%3===0&&e.push([]),e[e.length-1].push(n)})),e}},methods:{close:function(){this.$bvModal.show("modal-close")},confirmClose:function(){window.close()}},asyncData:function(e){var n=e.store;return Promise.all([n.dispatch(w["a"].FETCH_SETTINGS),n.dispatch(w["a"].FETCH_HOME_ACTIONS)])}},A=h,g=(t("5a91"),Object(m["a"])(A,T,S,!1,null,"2f6f8c89",null)),O=g.exports;i["default"].use(_["a"]);var v,b,D=new _["a"]({routes:[{path:"/",name:"home",component:O},{path:"/settings",name:"settings",component:function(){return t.e("page-settings").then(t.bind(null,"26d3"))}},{path:"/notes",name:"notes",component:function(){return t.e("page-notes").then(t.bind(null,"0841"))}},{path:"/notes/drawn",name:"note-drawn",component:function(){return t.e("page-note-drawn").then(t.bind(null,"9cf3"))}},{path:"/notes/drawn/:id",name:"note-edit-drawn",component:function(){return t.e("page-note-drawn").then(t.bind(null,"9cf3"))}},{path:"/cameras",name:"cameras",component:function(){return t.e("page-cameras").then(t.bind(null,"b64b"))}},{path:"/media",name:"media",component:function(){return t.e("page-media").then(t.bind(null,"89b1"))}},{path:"/media-downloads",name:"media-downloads",component:function(){return t.e("page-media-downloads").then(t.bind(null,"0fca"))}}]}),I=t("2f62"),N=t("bd86"),R=(v={},Object(N["a"])(v,w["a"].FETCH_SETTINGS,(function(e){var n=e.commit,t=e.state;return new Promise((function(e){t.isSettingsLoaded?e():(window.ipcRenderer.once("fetch-settings-reply",(function(t,o){n(w["c"].SET_SETTINGS,o),n(w["c"].SET_SETTINGS,{}),e()})),window.ipcRenderer.send("fetch-settings"))}))})),Object(N["a"])(v,w["a"].FETCH_HOME_ACTIONS,(function(e){var n=e.commit;return new Promise((function(e){n(w["c"].SET_HOME_ACTIONS,{}),e()}))})),Object(N["a"])(v,w["a"].FETCH_NOTES,(function(e){var n=e.commit;return new Promise((function(e){window.ipcRenderer.once("note-list-drawns-reply",(function(t,o){n(w["c"].SET_NOTES,o),e()})),window.ipcRenderer.send("note-list-drawns")}))})),Object(N["a"])(v,w["a"].SAVE_NOTE,(function(e,n){var t=n.id,o=n.content;return new Promise((function(e){window.ipcRenderer.once("note-drawn-save-reply",(function(){e()})),window.ipcRenderer.send("note-drawn-save",{id:t,content:o})}))})),Object(N["a"])(v,w["a"].DUPLICATE_NOTE,(function(e,n){var t=e.commit;return new Promise((function(e){window.ipcRenderer.once("note-drawn-duplicate-reply",(function(n,o){t(w["c"].ADD_NOTE,{note:o,mode:w["b"].PREPEND_DATA}),e()})),window.ipcRenderer.send("note-drawn-duplicate",n)}))})),Object(N["a"])(v,w["a"].RENAME_NOTE,(function(e,n){var t=e.commit,o=n.editId,a=n.newTitle;return new Promise((function(e){window.ipcRenderer.once("note-rename-reply",(function(){t(w["c"].SET_NOTE_NAME,{editId:o,newTitle:a}),e()})),window.ipcRenderer.send("note-rename",{id:o,title:a})}))})),Object(N["a"])(v,w["a"].REMOVE_NOTE,(function(e,n){var t=e.commit;return new Promise((function(e){window.ipcRenderer.once("note-remove-reply",(function(){t(w["c"].DELETE_NOTE,n),e()})),window.ipcRenderer.send("note-remove",n)}))})),Object(N["a"])(v,w["a"].START_MEDIA_SERVER,(function(e){var n=e.commit;return new Promise((function(e){window.ipcRenderer.once("media-server-start-reply",(function(t,o,a){n(w["c"].SET_MEDIA_SERVER_ADDRESS,o),n(w["c"].SET_MEDIA_AS_CONFIGURED,a),e()})),window.ipcRenderer.send("media-server-start")}))})),Object(N["a"])(v,w["a"].STOP_MEDIA_SERVER,(function(e){var n=e.commit;return new Promise((function(e){window.ipcRenderer.once("media-server-stop-reply",(function(){n(w["c"].SET_MEDIA_SERVER_ADDRESS,[]),n(w["c"].SET_MEDIA_AS_CONFIGURED,!1),n(w["c"].SET_MEDIA_LIST,{mediaType:"movies",list:null}),n(w["c"].SET_MEDIA_LIST,{mediaType:"shows",list:null}),e()})),window.ipcRenderer.send("media-server-stop")}))})),Object(N["a"])(v,w["a"].WAIT_MEDIA_CONFIGURE,(function(e){var n=e.commit;return new Promise((function(e){window.ipcRenderer.once("media-wait-configure-reply",(function(){n(w["c"].SET_MEDIA_AS_CONFIGURED,!0),e()})),window.ipcRenderer.send("media-wait-configure")}))})),Object(N["a"])(v,w["a"].FETCH_MEDIA_LIST,(function(e,n){var t=e.commit,o=e.state,a=n.mediaType,i=n.refresh;return new Promise((function(e){-1!==["movies","shows"].indexOf(a)&&(i||!o.media.list[a])?(t(w["c"].SET_MEDIA_LIST,{mediaType:a,list:!1}),window.ipcRenderer.once("media-list-reply",(function(n,o){t(w["c"].SET_MEDIA_LIST,{mediaType:a,list:o}),e()})),window.ipcRenderer.send("media-list",a)):e()}))})),Object(N["a"])(v,w["a"].FETCH_SHOW_SEASON_DETAIL,(function(e,n){var t=e.commit,o=n.showKey,a=n.seasonKey;return new Promise((function(e){t(w["c"].SET_SHOW_SEASON_DETAIL,{showKey:o,seasonKey:a,episodes:!1}),window.ipcRenderer.once("media-detail-show-season-reply",(function(n,i){t(w["c"].SET_SHOW_SEASON_DETAIL,{showKey:o,seasonKey:a,episodes:i}),e()})),window.ipcRenderer.send("media-detail-show-season",a)}))})),v),C=(t("20d6"),b={},Object(N["a"])(b,w["c"].SET_AS_LOADING,(function(e,n){i["default"].set(e,"isLoading",n)})),Object(N["a"])(b,w["c"].SET_SETTINGS,(function(e,n){i["default"].set(e.home,"minLines",n.home_min_lines)})),Object(N["a"])(b,w["c"].SET_HOME_ACTIONS,(function(e,n){i["default"].set(e.home,"minLines",n.home_min_lines)})),Object(N["a"])(b,w["c"].SET_NOTES,(function(e,n){e.notes=n})),Object(N["a"])(b,w["c"].ADD_NOTE,(function(e,n){var t=n.note,o=n.mode;o===w["b"].PREPEND_DATA?e.notes.unshift(t):o===w["b"].APPEND_DATA&&e.notes.push(t)})),Object(N["a"])(b,w["c"].SET_NOTE_NAME,(function(e,n){var t=n.editId,o=n.newTitle,a=e.notes.findIndex((function(e){var n=e.id;return n===t}));-1!==a&&i["default"].set(e.notes[a],"title",o)})),Object(N["a"])(b,w["c"].DELETE_NOTE,(function(e,n){var t=e.notes.findIndex((function(e){var t=e.id;return t===n}));-1!==t&&i["default"].delete(e.notes,t)})),Object(N["a"])(b,w["c"].SET_MEDIA_SERVER_ADDRESS,(function(e,n){i["default"].set(e.media,"serverAddress",n)})),Object(N["a"])(b,w["c"].SET_MEDIA_AS_CONFIGURED,(function(e,n){i["default"].set(e.media,"isConfigured",n)})),Object(N["a"])(b,w["c"].SET_MEDIA_LIST,(function(e,n){var t=n.mediaType,o=n.list;-1!==["movies","shows"].indexOf(t)&&i["default"].set(e.media.list,t,o)})),Object(N["a"])(b,w["c"].SET_SHOW_SEASON_DETAIL,(function(e,n){var t=n.showKey,o=n.seasonKey,a=n.episodes;if(e.media.list.shows){var r=e.media.list.shows.findIndex((function(e){var n=e.key;return n===t}));if(-1!==r){var s=e.media.list.shows[r].seasons.findIndex((function(e){var n=e.key;return n===o}));-1!==s&&i["default"].set(e.media.list.shows[r].seasons[s],"episodes",a)}}})),b),y={mediaSeasonEpisiodes:function(e){return function(n,t){if(!e.media.list.shows)return[];var o=e.media.list.shows.findIndex((function(e){var t=e.key;return t===n}));if(-1===o)return[];var a=e.media.list.shows[o].seasons.findIndex((function(e){var n=e.key;return n===t}));return-1===a?[]:e.media.list.shows[o].seasons[a]}}};i["default"].use(I["a"]);var M=new I["a"].Store({state:{isLoading:!1,isSettingsLoaded:!1,home:{minLines:2,itemsByLine:3,showMediaControls:!0,actions:[]},notes:[],media:{isConfigured:!1,serverAddress:[],list:{movies:null,shows:null}}},actions:R,mutations:C,getters:y}),L={methods:{setAsLoading:function(e){this.$store.commit(w["c"].SET_AS_LOADING,e)},waitLoadingFor:function(e){var n=this;this.setAsLoading(!0),e.then((function(){return n.setAsLoading(!1)})).catch((function(){return n.setAsLoading(!1)}))}}};function P(e,n){return e.length>n?"".concat(e.substr(0,n-3).trim(),"..."):e}function j(e){var n=parseInt(e,10)/1e3,t=Math.floor(n/31536e3),o=Math.floor((n%=31536e3)/86400),a=Math.floor((n%=86400)/3600),i=Math.floor((n%=3600)/60),r=n%60;if(o||a||i||r){var s=[];return t&&s.push("".concat(t,"y")),o&&s.push("".concat(o,"d")),a&&s.push("".concat(a,"h")),i&&s.push("".concat(i,"m")),r>1&&!t&&!o&&!a&&s.push("".concat(r.toFixed(0),"s")),s.join(" ")}return"< 1s"}i["default"].component("media-controls",(function(){return t.e("component-media-controls").then(t.bind(null,"6e9c"))})),i["default"].component("nav-actions",(function(){return t.e("component-nav-actions").then(t.bind(null,"8fdf"))})),i["default"].component("center-content",(function(){return t.e("component-center-content").then(t.bind(null,"90ad"))})),i["default"].mixin(L),Object.keys(o).forEach((function(e){i["default"].filter(e,o[e])})),i["default"].mixin({beforeRouteUpdate:function(e,n,t){var o=this.$options.asyncData;o?o({store:this.$store,route:e}).then(t):t()}}),i["default"].config.productionTip=!1,i["default"].use(r["a"]),i["default"].use(c.a),Object(a["sync"])(M,D);var H=new i["default"]({router:D,store:M,render:function(e){return e(p)}});D.onReady((function(){D.beforeResolve((function(e,n,t){var o=D.getMatchedComponents(e),a=D.getMatchedComponents(n),i=!1,r=o.filter((function(t,o){return i||(i=a[o]!==t,!i&&t.forceFetchNoMatched&&(i=e.name!==n.name),i)})),s=r.map((function(e){return e.asyncData})).filter((function(e){return e}));return s.length?(Promise.all(s.map((function(n){return n({store:M,route:e})}))).then(t),!0):t()})),H.$mount("#app"),D.replace("#")}))},"5a91":function(e,n,t){"use strict";var o=t("55d8"),a=t.n(o);a.a},"5c64":function(e,n,t){"use strict";var o=t("d32a"),a=t.n(o);a.a},ac91:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return a})),t.d(n,"c",(function(){return i}));var o={REPLACE_DATA:"REPLACE_DATA",APPEND_DATA:"APPEND_DATA",PREPEND_DATA:"PREPEND_DATA"},a={FETCH_SETTINGS:"FETCH_SETTINGS",FETCH_HOME_ACTIONS:"FETCH_HOME_ACTIONS",UPDATE_HOME_CONFIG:"UPDATE_HOME_CONFIG",FETCH_NOTES:"FETCH_NOTES",SAVE_NOTE:"SAVE_NOTE",DUPLICATE_NOTE:"DUPLICATE_NOTE",RENAME_NOTE:"RENAME_NOTE",REMOVE_NOTE:"REMOVE_NOTE",START_MEDIA_SERVER:"START_MEDIA_SERVER",STOP_MEDIA_SERVER:"STOP_MEDIA_SERVER",WAIT_MEDIA_CONFIGURE:"WAIT_MEDIA_CONFIGURE",FETCH_MEDIA_LIST:"FETCH_MEDIA_LIST",FETCH_SHOW_SEASON_DETAIL:"FETCH_SHOW_SEASON_DETAIL"},i={SET_AS_LOADING:"SET_AS_LOADING",SET_SETTINGS:"SET_SETTINGS",SET_HOME_ACTIONS:"SET_HOME_ACTIONS",SET_NOTES:"SET_NOTES",ADD_NOTE:"ADD_NOTE",SET_NOTE_NAME:"SET_NOTE_NAME",DELETE_NOTE:"DELETE_NOTE",SET_MEDIA_SERVER_ADDRESS:"SET_MEDIA_SERVER_ADDRESS",SET_MEDIA_AS_CONFIGURED:"SET_MEDIA_AS_CONFIGURED",SET_MEDIA_LIST:"SET_MEDIA_LIST",SET_SHOW_SEASON_DETAIL:"SET_SHOW_SEASON_DETAIL"}},d32a:function(e,n,t){}});
//# sourceMappingURL=app.c4ae3767.js.map