{"version":3,"sources":["webpack:///./node_modules/canvas-free-drawing/dist/index.js","webpack:///./src/views/NoteDrawn.vue?8c55","webpack:///./src/views/NoteDrawn.vue?f6f8","webpack:///src/views/NoteDrawn.vue","webpack:///./src/views/NoteDrawn.vue?8c79","webpack:///./src/views/NoteDrawn.vue"],"names":["AllowedEvents","Object","defineProperty","exports","value","CanvasFreeDrawing","params","elementId","width","height","_a","backgroundColor","_b","lineWidth","_c","strokeColor","disabled","_d","showWarnings","_e","maxSnapshots","this","requiredParam","canvasNode","document","getElementById","HTMLCanvasElement","canvas","HTMLElement","Error","newCanvas","createElement","appendChild","context","getContext","snapshots","undos","positions","leftCanvasDrawing","isDrawing","isDrawingModeEnabled","imageRestored","toValidColor","bucketToolColor","bucketToolTolerance","isBucketToolEnabled","listenersList","allowedEvents","getAllowedEvents","redrawCounter","dispatchEventsOnceEvery","events","redrawEvent","Event","fillEvent","mouseUpEvent","mouseDownEvent","mouseEnterEvent","mouseLeaveEvent","touchStartEvent","touchEndEvent","bindings","mouseDown","bind","mouseMove","mouseLeave","mouseUp","mouseUpDocument","touchStart","touchMove","touchEnd","touchIdentifier","undefined","previousX","previousY","isNodeColorEqualCache","setDimensions","setBackground","storeSnapshot","enableDrawingMode","prototype","object","param","logWarning","args","_i","arguments","length","console","warn","apply","addListeners","_this","forEach","event","addEventListener","toLowerCase","removeListeners","removeEventListener","event_1","push","toggleCursor","disableDrawingMode","button","x","pageX","offsetLeft","y","pageY","offsetTop","drawPoint","drawLine","changedTouches","identifier","handleEndDrawing","dispatchEvent","mouseEnter","fill","tolerance","storeDrawing","handleDrawing","MouseEvent","TouchEvent","lineJoin","slice","pop","position","strokeStyle","rgbaFromArray","draw","i","moving","beginPath","moveTo","lineTo","closePath","stroke","newColor","pixels","imageData","getImageData","newData","data","targetColor","getNodeColor","isNodeColorEqual","queue","n","w","e","firstNode","lastNode","setNodeColor","putImageData","color","Array","isArray","validColor","j","t","color1","color2","key","hasOwnProperty","diffRed","Math","abs","diffGreen","diffBlue","percentDiffRed","percentDiffGreen","percentDiffBlue","percentDiff","result","a","style","cursor","lastIndex","isBucket","getCanvasSnapshot","splice","restoreCanvasSnapshot","on","callback","counter","includes","Number","isInteger","setLineWidth","px","save","fillStyle","fillRect","setDrawingColor","configBucketTool","setStrokeColor","toggleBucketTool","toggleDrawingMode","clear","clearRect","toDataURL","restore","backup","image","Image","src","onload","drawImage","undo","lastSnapshot","goToSnapshot","redo","lastUndo","default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NoteDrawn_vue_vue_type_style_index_0_id_55f564be_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NoteDrawn_vue_vue_type_style_index_0_id_55f564be_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","_h","$createElement","_self","staticClass","attrs","id","fluid","_l","colorItem","colorName","class","color-selected","background-color","join","click","$event","selectColor","decrementSize","_v","_s","size","incrementSize","staticStyle","flex","disable","buttonBlock","variant","discardChanges","staticRenderFns","NoteDrawnvue_type_script_lang_js_","name","drawn","colors","light","primary","secondary","success","warning","danger","mounted","el","querySelector","drawnWidth","offsetWidth","drawnHeight","offsetHeight","dist_default","$route","window","ipcRenderer","once","note","finalContent","content","img","floor","resizingCanvas","resizingCanvasContext","curImageDimensions","halfImageDimensions","outputCanvas","outputCanvasContext","send","methods","history","$router","go","_this2","views_NoteDrawnvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/page-note-drawn.10f4e44d.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AllowedEvents;\n(function (AllowedEvents) {\n    AllowedEvents[\"redraw\"] = \"redraw\";\n    AllowedEvents[\"fill\"] = \"fill\";\n    AllowedEvents[\"mouseup\"] = \"mouseup\";\n    AllowedEvents[\"mousedown\"] = \"mousedown\";\n    AllowedEvents[\"mouseenter\"] = \"mouseenter\";\n    AllowedEvents[\"mouseleave\"] = \"mouseleave\";\n})(AllowedEvents = exports.AllowedEvents || (exports.AllowedEvents = {}));\nvar CanvasFreeDrawing = /** @class */ (function () {\n    function CanvasFreeDrawing(params) {\n        var elementId = params.elementId, width = params.width, height = params.height, _a = params.backgroundColor, backgroundColor = _a === void 0 ? [255, 255, 255] : _a, _b = params.lineWidth, lineWidth = _b === void 0 ? 5 : _b, _c = params.strokeColor, strokeColor = _c === void 0 ? [0, 0, 0] : _c, disabled = params.disabled, _d = params.showWarnings, showWarnings = _d === void 0 ? false : _d, _e = params.maxSnapshots, maxSnapshots = _e === void 0 ? 10 : _e;\n        this.requiredParam(params, 'elementId');\n        this.requiredParam(params, 'width');\n        this.requiredParam(params, 'height');\n        this.elementId = elementId;\n        this.canvasNode = document.getElementById(this.elementId);\n        if (this.canvasNode instanceof HTMLCanvasElement) {\n            this.canvas = this.canvasNode;\n        }\n        else if (this.canvasNode instanceof HTMLElement) {\n            var newCanvas = document.createElement('canvas');\n            this.canvasNode.appendChild(newCanvas);\n            this.canvas = newCanvas;\n        }\n        else {\n            throw new Error(\"No element found with following id: \" + this.elementId);\n        }\n        this.context = this.canvas.getContext('2d');\n        this.width = width;\n        this.height = height;\n        this.maxSnapshots = maxSnapshots;\n        this.snapshots = [];\n        this.undos = [];\n        this.positions = [];\n        this.leftCanvasDrawing = false; // to check if user left the canvas drawing, on mouseover resume drawing\n        this.isDrawing = false;\n        this.isDrawingModeEnabled = true;\n        this.imageRestored = false;\n        this.lineWidth = lineWidth;\n        this.strokeColor = this.toValidColor(strokeColor);\n        this.bucketToolColor = this.toValidColor(strokeColor);\n        this.bucketToolTolerance = 0;\n        this.isBucketToolEnabled = false;\n        this.listenersList = [\n            'mouseDown',\n            'mouseMove',\n            'mouseLeave',\n            'mouseUp',\n            'touchStart',\n            'touchMove',\n            'touchEnd',\n        ];\n        this.allowedEvents = this.getAllowedEvents();\n        this.redrawCounter = 0;\n        this.dispatchEventsOnceEvery = 0; // this may become something like: [{event, counter}]\n        // initialize events\n        this.events = {\n            redrawEvent: new Event('cfd_redraw'),\n            fillEvent: new Event('cfd_fill'),\n            mouseUpEvent: new Event('cfd_mouseup'),\n            mouseDownEvent: new Event('cfd_mousedown'),\n            mouseEnterEvent: new Event('cfd_mouseenter'),\n            mouseLeaveEvent: new Event('cfd_mouseleave'),\n            touchStartEvent: new Event('cfd_touchstart'),\n            touchEndEvent: new Event('cfd_touchend'),\n        };\n        this.bindings = {\n            mouseDown: this.mouseDown.bind(this),\n            mouseMove: this.mouseMove.bind(this),\n            mouseLeave: this.mouseLeave.bind(this),\n            mouseUp: this.mouseUp.bind(this),\n            mouseUpDocument: this.mouseUpDocument.bind(this),\n            touchStart: this.touchStart.bind(this),\n            touchMove: this.touchMove.bind(this),\n            touchEnd: this.touchEnd.bind(this),\n        };\n        this.touchIdentifier = undefined;\n        this.previousX = undefined;\n        this.previousY = undefined;\n        this.showWarnings = showWarnings;\n        // cache\n        this.isNodeColorEqualCache = {};\n        this.setDimensions();\n        this.setBackground(backgroundColor);\n        this.storeSnapshot();\n        if (!disabled)\n            this.enableDrawingMode();\n    }\n    CanvasFreeDrawing.prototype.requiredParam = function (object, param) {\n        if (!object || !object[param]) {\n            throw new Error(param + \" is required\");\n        }\n    };\n    CanvasFreeDrawing.prototype.logWarning = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.showWarnings)\n            console.warn.apply(console, args);\n    };\n    CanvasFreeDrawing.prototype.addListeners = function () {\n        var _this = this;\n        this.listenersList.forEach(function (event) {\n            _this.canvas.addEventListener(event.toLowerCase(), _this.bindings[event]);\n        });\n        document.addEventListener('mouseup', this.bindings.mouseUpDocument);\n    };\n    CanvasFreeDrawing.prototype.removeListeners = function () {\n        var _this = this;\n        this.listenersList.forEach(function (event) {\n            _this.canvas.removeEventListener(event.toLowerCase(), _this.bindings[event]);\n        });\n        document.removeEventListener('mouseup', this.bindings.mouseUpDocument);\n    };\n    CanvasFreeDrawing.prototype.getAllowedEvents = function () {\n        var events = [];\n        for (var event_1 in AllowedEvents) {\n            events.push(event_1);\n        }\n        return events;\n    };\n    CanvasFreeDrawing.prototype.enableDrawingMode = function () {\n        this.isDrawingModeEnabled = true;\n        this.addListeners();\n        this.toggleCursor();\n        return this.isDrawingModeEnabled;\n    };\n    CanvasFreeDrawing.prototype.disableDrawingMode = function () {\n        this.isDrawingModeEnabled = false;\n        this.removeListeners();\n        this.toggleCursor();\n        return this.isDrawingModeEnabled;\n    };\n    CanvasFreeDrawing.prototype.mouseDown = function (event) {\n        if (event.button !== 0)\n            return;\n        var x = event.pageX - this.canvas.offsetLeft;\n        var y = event.pageY - this.canvas.offsetTop;\n        this.drawPoint(x, y);\n    };\n    CanvasFreeDrawing.prototype.mouseMove = function (event) {\n        var x = event.pageX - this.canvas.offsetLeft;\n        var y = event.pageY - this.canvas.offsetTop;\n        this.drawLine(x, y, event);\n    };\n    CanvasFreeDrawing.prototype.touchStart = function (event) {\n        if (event.changedTouches.length > 0) {\n            var _a = event.changedTouches[0], pageX = _a.pageX, pageY = _a.pageY, identifier = _a.identifier;\n            var x = pageX - this.canvas.offsetLeft;\n            var y = pageY - this.canvas.offsetTop;\n            this.touchIdentifier = identifier;\n            this.drawPoint(x, y);\n        }\n    };\n    CanvasFreeDrawing.prototype.touchMove = function (event) {\n        if (event.changedTouches.length > 0) {\n            var _a = event.changedTouches[0], pageX = _a.pageX, pageY = _a.pageY, identifier = _a.identifier;\n            var x = pageX - this.canvas.offsetLeft;\n            var y = pageY - this.canvas.offsetTop;\n            // check if is multi touch, if it is do nothing\n            if (identifier != this.touchIdentifier)\n                return;\n            this.previousX = x;\n            this.previousY = y;\n            this.drawLine(x, y, event);\n        }\n    };\n    CanvasFreeDrawing.prototype.touchEnd = function () {\n        this.handleEndDrawing();\n        this.canvas.dispatchEvent(this.events.touchEndEvent);\n    };\n    CanvasFreeDrawing.prototype.mouseUp = function () {\n        this.handleEndDrawing();\n        this.canvas.dispatchEvent(this.events.mouseUpEvent);\n    };\n    CanvasFreeDrawing.prototype.mouseUpDocument = function () {\n        this.leftCanvasDrawing = false;\n    };\n    CanvasFreeDrawing.prototype.mouseLeave = function () {\n        if (this.isDrawing)\n            this.leftCanvasDrawing = true;\n        this.isDrawing = false;\n        this.canvas.dispatchEvent(this.events.mouseLeaveEvent);\n    };\n    CanvasFreeDrawing.prototype.mouseEnter = function () {\n        this.canvas.dispatchEvent(this.events.mouseEnterEvent);\n    };\n    CanvasFreeDrawing.prototype.handleEndDrawing = function () {\n        this.isDrawing = false;\n        this.storeSnapshot();\n    };\n    CanvasFreeDrawing.prototype.drawPoint = function (x, y) {\n        if (this.isBucketToolEnabled) {\n            this.fill(x, y, this.bucketToolColor, {\n                tolerance: this.bucketToolTolerance,\n            });\n        }\n        else {\n            this.isDrawing = true;\n            this.storeDrawing(x, y, false);\n            this.canvas.dispatchEvent(this.events.mouseDownEvent);\n            this.handleDrawing();\n        }\n    };\n    CanvasFreeDrawing.prototype.drawLine = function (x, y, event) {\n        if (this.leftCanvasDrawing) {\n            this.leftCanvasDrawing = false;\n            if (event instanceof MouseEvent) {\n                this.mouseDown(event);\n            }\n            else if (event instanceof TouchEvent) {\n                this.touchEnd();\n            }\n        }\n        if (this.isDrawing) {\n            this.storeDrawing(x, y, true);\n            this.handleDrawing(this.dispatchEventsOnceEvery);\n        }\n    };\n    CanvasFreeDrawing.prototype.handleDrawing = function (dispatchEventsOnceEvery) {\n        var _this = this;\n        this.context.lineJoin = 'round';\n        var positions = [this.positions.slice().pop()];\n        positions.forEach(function (position) {\n            if (position && position[0] && position[0].strokeColor) {\n                _this.context.strokeStyle = _this.rgbaFromArray(position[0].strokeColor);\n                _this.context.lineWidth = position[0].lineWidth;\n                _this.draw(position);\n            }\n        });\n        if (!dispatchEventsOnceEvery) {\n            this.canvas.dispatchEvent(this.events.redrawEvent);\n        }\n        else if (this.redrawCounter % dispatchEventsOnceEvery === 0) {\n            this.canvas.dispatchEvent(this.events.redrawEvent);\n        }\n        this.undos = [];\n        this.redrawCounter += 1;\n    };\n    CanvasFreeDrawing.prototype.draw = function (position) {\n        var _this = this;\n        position.forEach(function (_a, i) {\n            var x = _a.x, y = _a.y, moving = _a.moving;\n            _this.context.beginPath();\n            if (moving && i) {\n                _this.context.moveTo(position[i - 1]['x'], position[i - 1]['y']);\n            }\n            else {\n                _this.context.moveTo(x - 1, y);\n            }\n            _this.context.lineTo(x, y);\n            _this.context.closePath();\n            _this.context.stroke();\n        });\n    };\n    // https://en.wikipedia.org/wiki/Flood_fill\n    CanvasFreeDrawing.prototype.fill = function (x, y, newColor, _a) {\n        var tolerance = _a.tolerance;\n        newColor = this.toValidColor(newColor);\n        if (this.positions.length === 0 && !this.imageRestored) {\n            this.setBackground(newColor, false);\n            this.canvas.dispatchEvent(this.events.redrawEvent);\n            this.canvas.dispatchEvent(this.events.fillEvent);\n            return;\n        }\n        var pixels = this.width * this.height;\n        var imageData = this.context.getImageData(0, 0, this.width, this.height);\n        var newData = imageData.data;\n        var targetColor = this.getNodeColor(x, y, newData);\n        if (this.isNodeColorEqual(targetColor, newColor, tolerance))\n            return;\n        var queue = [];\n        queue.push([x, y]);\n        while (queue.length) {\n            if (queue.length > pixels)\n                break;\n            var n = queue.pop();\n            var w = n;\n            var e = n;\n            while (this.isNodeColorEqual(this.getNodeColor(w[0] - 1, w[1], newData), targetColor, tolerance)) {\n                w = [w[0] - 1, w[1]];\n            }\n            while (this.isNodeColorEqual(this.getNodeColor(e[0] + 1, e[1], newData), targetColor, tolerance)) {\n                e = [e[0] + 1, e[1]];\n            }\n            var firstNode = w[0];\n            var lastNode = e[0];\n            for (var i = firstNode; i <= lastNode; i++) {\n                this.setNodeColor(i, w[1], newColor, newData);\n                if (this.isNodeColorEqual(this.getNodeColor(i, w[1] + 1, newData), targetColor, tolerance)) {\n                    queue.push([i, w[1] + 1]);\n                }\n                if (this.isNodeColorEqual(this.getNodeColor(i, w[1] - 1, newData), targetColor, tolerance)) {\n                    queue.push([i, w[1] - 1]);\n                }\n            }\n        }\n        this.context.putImageData(imageData, 0, 0);\n        this.canvas.dispatchEvent(this.events.redrawEvent);\n        this.canvas.dispatchEvent(this.events.fillEvent);\n    };\n    CanvasFreeDrawing.prototype.toValidColor = function (color) {\n        if (Array.isArray(color) && color.length === 4)\n            color.pop();\n        if (Array.isArray(color) && color.length === 3) {\n            var validColor = color.slice();\n            validColor.push(255);\n            return validColor;\n        }\n        else {\n            this.logWarning('Color is not valid!\\n' +\n                'It must be an array with RGB values:  [0-255, 0-255, 0-255]');\n            return [0, 0, 0, 255];\n        }\n    };\n    // i = color 1; j = color 2; t = tolerance\n    CanvasFreeDrawing.prototype.isNodeColorEqual = function (i, j, t) {\n        var color1 = '' + i[0] + i[1] + i[2] + i[3];\n        var color2 = '' + j[0] + j[1] + j[2] + j[3];\n        var key = color1 + color2 + t;\n        t = t || 0;\n        if (this.isNodeColorEqualCache.hasOwnProperty(color1 + color2 + t)) {\n            return this.isNodeColorEqualCache[key];\n        }\n        var diffRed = Math.abs(j[0] - i[0]);\n        var diffGreen = Math.abs(j[1] - i[1]);\n        var diffBlue = Math.abs(j[2] - i[2]);\n        var percentDiffRed = diffRed / 255;\n        var percentDiffGreen = diffGreen / 255;\n        var percentDiffBlue = diffBlue / 255;\n        var percentDiff = ((percentDiffRed + percentDiffGreen + percentDiffBlue) / 3) * 100;\n        var result = t >= percentDiff;\n        this.isNodeColorEqualCache[key] = result;\n        return result;\n    };\n    CanvasFreeDrawing.prototype.getNodeColor = function (x, y, data) {\n        var i = (x + y * this.width) * 4;\n        return [data[i], data[i + 1], data[i + 2], data[i + 3]];\n    };\n    CanvasFreeDrawing.prototype.setNodeColor = function (x, y, color, data) {\n        var i = (x + y * this.width) * 4;\n        data[i] = color[0];\n        data[i + 1] = color[1];\n        data[i + 2] = color[2];\n        data[i + 3] = color[3];\n    };\n    CanvasFreeDrawing.prototype.rgbaFromArray = function (a) {\n        return \"rgba(\" + a[0] + \",\" + a[1] + \",\" + a[2] + \",\" + a[3] + \")\";\n    };\n    CanvasFreeDrawing.prototype.setDimensions = function () {\n        this.canvas.height = this.height;\n        this.canvas.width = this.width;\n    };\n    CanvasFreeDrawing.prototype.toggleCursor = function () {\n        this.canvas.style.cursor = this.isDrawingModeEnabled ? 'crosshair' : 'auto';\n    };\n    CanvasFreeDrawing.prototype.storeDrawing = function (x, y, moving) {\n        if (moving) {\n            var lastIndex = this.positions.length - 1;\n            this.positions[lastIndex].push({\n                x: x,\n                y: y,\n                moving: moving,\n                lineWidth: this.lineWidth,\n                strokeColor: this.strokeColor,\n                isBucket: false,\n            });\n        }\n        else {\n            this.positions.push([\n                {\n                    x: x,\n                    y: y,\n                    isBucket: false,\n                    moving: moving,\n                    lineWidth: this.lineWidth,\n                    strokeColor: this.strokeColor,\n                },\n            ]);\n        }\n    };\n    CanvasFreeDrawing.prototype.storeSnapshot = function () {\n        var imageData = this.getCanvasSnapshot();\n        this.snapshots.push(imageData);\n        if (this.snapshots.length > this.maxSnapshots) {\n            this.snapshots = this.snapshots.splice(-Math.abs(this.maxSnapshots));\n        }\n    };\n    CanvasFreeDrawing.prototype.getCanvasSnapshot = function () {\n        return this.context.getImageData(0, 0, this.width, this.height);\n    };\n    CanvasFreeDrawing.prototype.restoreCanvasSnapshot = function (imageData) {\n        this.context.putImageData(imageData, 0, 0);\n    };\n    // Public APIs\n    CanvasFreeDrawing.prototype.on = function (params, callback) {\n        var event = params.event, counter = params.counter;\n        this.requiredParam(params, 'event');\n        if (this.allowedEvents.includes(event)) {\n            if (event === 'redraw' && counter && Number.isInteger(counter)) {\n                this.dispatchEventsOnceEvery = counter;\n            }\n            this.canvas.addEventListener('cfd_' + event, function () { return callback(); });\n        }\n        else {\n            this.logWarning(\"This event is not allowed: \" + event);\n        }\n    };\n    CanvasFreeDrawing.prototype.setLineWidth = function (px) {\n        this.lineWidth = px;\n    };\n    CanvasFreeDrawing.prototype.setBackground = function (color, save) {\n        if (save === void 0) { save = true; }\n        var validColor = this.toValidColor(color);\n        if (validColor) {\n            if (save)\n                this.backgroundColor = validColor;\n            this.context.fillStyle = this.rgbaFromArray(validColor);\n            this.context.fillRect(0, 0, this.width, this.height);\n        }\n    };\n    CanvasFreeDrawing.prototype.setDrawingColor = function (color) {\n        this.configBucketTool({ color: color });\n        this.setStrokeColor(color);\n    };\n    CanvasFreeDrawing.prototype.setStrokeColor = function (color) {\n        this.strokeColor = this.toValidColor(color);\n    };\n    CanvasFreeDrawing.prototype.configBucketTool = function (params) {\n        var _a = params.color, color = _a === void 0 ? null : _a, _b = params.tolerance, tolerance = _b === void 0 ? null : _b;\n        if (color)\n            this.bucketToolColor = this.toValidColor(color);\n        if (tolerance && tolerance > 0) {\n            this.bucketToolTolerance = tolerance > 100 ? 100 : tolerance;\n        }\n    };\n    CanvasFreeDrawing.prototype.toggleBucketTool = function () {\n        return (this.isBucketToolEnabled = !this.isBucketToolEnabled);\n    };\n    CanvasFreeDrawing.prototype.toggleDrawingMode = function () {\n        return this.isDrawingModeEnabled\n            ? this.disableDrawingMode()\n            : this.enableDrawingMode();\n    };\n    CanvasFreeDrawing.prototype.clear = function () {\n        this.context.clearRect(0, 0, this.width, this.height);\n        this.positions = [];\n        this.imageRestored = false;\n        if (this.backgroundColor)\n            this.setBackground(this.backgroundColor);\n        this.handleEndDrawing();\n    };\n    CanvasFreeDrawing.prototype.save = function () {\n        return this.canvas.toDataURL();\n    };\n    CanvasFreeDrawing.prototype.restore = function (backup, callback) {\n        var _this = this;\n        var image = new Image();\n        image.src = backup;\n        image.onload = function () {\n            _this.imageRestored = true;\n            _this.context.drawImage(image, 0, 0);\n            if (typeof callback === 'function')\n                callback();\n        };\n    };\n    CanvasFreeDrawing.prototype.undo = function () {\n        var lastSnapshot = this.snapshots[this.snapshots.length - 1];\n        var goToSnapshot = this.snapshots[this.snapshots.length - 2];\n        if (goToSnapshot) {\n            this.restoreCanvasSnapshot(goToSnapshot);\n            this.snapshots.pop();\n            this.undos.push(lastSnapshot);\n            this.undos = this.undos.splice(-Math.abs(this.maxSnapshots));\n            this.imageRestored = true;\n        }\n        else {\n            this.logWarning('There are no more undos left.');\n        }\n    };\n    CanvasFreeDrawing.prototype.redo = function () {\n        if (this.undos.length > 0) {\n            var lastUndo = this.undos.pop();\n            if (lastUndo) {\n                this.restoreCanvasSnapshot(lastUndo);\n                this.snapshots.push(lastUndo);\n                this.snapshots = this.snapshots.splice(-Math.abs(this.maxSnapshots));\n            }\n        }\n        else {\n            this.logWarning('There are no more redo left.');\n        }\n    };\n    return CanvasFreeDrawing;\n}());\nexports.default = CanvasFreeDrawing;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoteDrawn.vue?vue&type=style&index=0&id=55f564be&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoteDrawn.vue?vue&type=style&index=0&id=55f564be&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"note-drawn\"},[_c('div',{staticClass:\"drawning-area\",attrs:{\"id\":\"note-drawning\"}}),_c('b-container',{staticClass:\"drawn-options border-top border-secondary\",attrs:{\"fluid\":\"\"}},[_c('div',{staticClass:\"line-options text-center\"},[_c('div',{staticClass:\"line-colors\"},[_c('div',{staticClass:\"colors-container\"},_vm._l((_vm.colors),function(colorItem,colorName){return _c('div',{key:colorName,staticClass:\"color-item\",class:{'color-selected': colorName == _vm.color}},[_c('div',{staticClass:\"color-select\",style:({'background-color': (\"rgb(\" + (colorItem.join(', ')) + \")\")}),on:{\"click\":function($event){return _vm.selectColor(colorName)}}})])}),0)]),_c('div',{staticClass:\"line-size d-flex\"},[_c('div',{staticClass:\"size-ajust\",on:{\"click\":_vm.decrementSize}},[_vm._v(\"-\")]),_c('div',{staticClass:\"size-value\"},[_vm._v(_vm._s(_vm.size)+\"px\")]),_c('div',{staticClass:\"size-ajust\",on:{\"click\":_vm.incrementSize}},[_vm._v(\"+\")])])]),_c('div',{staticClass:\"actions text-right\"},[_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('b-button',{attrs:{\"disable\":_vm.buttonBlock,\"variant\":\"light\",\"size\":\"sm\"},on:{\"click\":_vm.undo}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"undo\")])]),_vm._v(\"\\n                 \\n                \"),_c('b-button',{attrs:{\"disable\":_vm.buttonBlock,\"variant\":\"warning\",\"size\":\"sm\"},on:{\"click\":_vm.discardChanges}},[_vm._v(\"\\n                    Discard\\n                \")]),_vm._v(\"\\n                 \\n                \"),_c('b-button',{attrs:{\"disable\":_vm.buttonBlock,\"variant\":\"success\",\"size\":\"sm\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"note-drawn\">\n        <div class=\"drawning-area\" id=\"note-drawning\"></div>\n        <!-- <b-container fluid class=\"drawning-area\" id=\"note-drawning\"></b-container> -->\n        <b-container fluid class=\"drawn-options border-top border-secondary\">\n            <div class=\"line-options text-center\">\n                <div class=\"line-colors\">\n                    <div class=\"colors-container\">\n                        <div v-for=\"(colorItem, colorName) of colors\" :key=\"colorName\" class=\"color-item\"\n                            v-bind:class=\"{'color-selected': colorName == color}\">\n                            <div @click=\"selectColor(colorName)\" class=\"color-select\"\n                                v-bind:style=\"{'background-color': `rgb(${colorItem.join(', ')})`}\">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"line-size d-flex\">\n                    <div @click=\"decrementSize\" class=\"size-ajust\">-</div>\n                    <div class=\"size-value\">{{ size }}px</div>\n                    <div @click=\"incrementSize\" class=\"size-ajust\">+</div>\n                </div>\n            </div>\n            <div class=\"actions text-right\">\n                <div style=\"flex: 1;\">\n                    <b-button @click=\"undo\" :disable=\"buttonBlock\" variant=\"light\" size=\"sm\">\n                        <i class=\"material-icons\">undo</i>\n                    </b-button>\n                    &nbsp;\n                    <b-button @click=\"discardChanges\" :disable=\"buttonBlock\" variant=\"warning\" size=\"sm\">\n                        Discard\n                    </b-button>\n                    &nbsp;\n                    <b-button @click=\"save\" :disable=\"buttonBlock\" variant=\"success\" size=\"sm\">Save</b-button>\n                </div>\n            </div>\n        </b-container>\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n    .note-drawn {\n        overflow: hidden;\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n\n        .drawning-area {\n            flex: 1;\n\n            canvas {\n                width: 100%;\n                height: 100%;\n            }\n        }\n\n        .drawn-options {\n            display: flex;\n            padding: 5px 0;\n            margin: 0 -($grid-gutter-width / 2)px;\n\n            .line-options {\n                padding: 0 ($grid-gutter-width / 2);\n                display: flex;\n                flex: 1;\n\n                .line-colors {\n                    flex: 1;\n                    display: flex;\n                    align-items: center;\n\n                    .colors-container {\n                        flex: 1;\n\n                        .color-item {\n                            border: 2px solid transparent;\n                            display: inline-block;\n                            vertical-align: middle;\n\n                            &.color-selected {\n                                border-color: rgb(140, 255, 210);\n                            }\n\n                            .color-select {\n                                height: 20px;\n                                width: 20px;\n                            }\n                        }\n                    }\n                }\n\n                .line-size {\n                    align-items: center;\n\n                    .size-ajust {\n                        padding: 0 7px;\n                        font-size: 1.2rem;\n                    }\n\n                    .size-value {\n                        flex: 1;\n                        width: 35px;\n                    }\n                }\n            }\n            .actions {\n                padding: 0 ($grid-gutter-width / 2);\n                align-items: center;\n            }\n        }\n    }\n</style>\n\n<script>\nimport * as CanvasFreeDrawing from 'canvas-free-drawing';\n\nexport default {\n    name: 'note-drawn',\n    data() {\n        return {\n            drawn: null,\n            size: 3,\n            color: 'light',\n            colors: {\n                light: [248, 249, 250],\n                primary: [0, 123, 255],\n                secondary: [108, 117, 125],\n                success: [40, 167, 69],\n                warning: [255, 193, 7],\n                danger: [220, 53, 69],\n            },\n            buttonBlock: false,\n        };\n    },\n    mounted() {\n        const el = document.querySelector('.note-drawn .drawning-area');\n\n        const drawnWidth = el.offsetWidth;\n        const drawnHeight = el.offsetHeight - 5;\n\n        // eslint-disable-next-line new-cap\n        this.drawn = new CanvasFreeDrawing.default({\n            elementId: 'note-drawning',\n            width: drawnWidth,\n            height: drawnHeight,\n            backgroundColor: [0, 0, 0],\n            lineWidth: this.size,\n            strokeColor: this.colors[this.color],\n        });\n\n        const { id } = this.$route.params;\n\n        if (id) {\n            window.ipcRenderer.once('note-get-reply', (event, note) => {\n                // resize a canvas element\n                // https://stackoverflow.com/a/53986239/3337038\n                let finalContent = note.content;\n\n                let width = drawnWidth;\n                let height = drawnHeight;\n\n                const img = new Image();\n                img.src = finalContent;\n\n                img.onload = () => {\n                    // Check if the image require resize at all\n                    if (img.height > height || img.width > width) {\n                        // Make sure the width and height preserve the original aspect ratio and adjust if needed\n                        if (img.height > img.width) {\n                            width = Math.floor(height * (img.width / img.height));\n                        } else {\n                            height = Math.floor(width * (img.height / img.width));\n                        }\n\n                        const resizingCanvas = document.createElement('canvas');\n                        const resizingCanvasContext = resizingCanvas.getContext('2d');\n\n                        // Start with original image size\n                        resizingCanvas.width = img.width;\n                        resizingCanvas.height = img.height;\n\n                        // Draw the original image on the (temp) resizing canvas\n                        resizingCanvasContext.drawImage(img, 0, 0, resizingCanvas.width, resizingCanvas.height);\n\n                        const curImageDimensions = {\n                            width: Math.floor(img.width),\n                            height: Math.floor(img.height),\n                        };\n\n                        const halfImageDimensions = {\n                            width: null,\n                            height: null,\n                        };\n\n                        // Quickly reduce the dize by 50% each time in few iterations until the size is less then\n                        // 2x time the target size - the motivation for it, is to reduce the aliasing that would have been\n                        // created with direct reduction of very big image to small image\n                        while (curImageDimensions.width * 0.5 > width) {\n                            // Reduce the resizing canvas by half and refresh the image\n                            halfImageDimensions.width = Math.floor(curImageDimensions.width * 0.5);\n                            halfImageDimensions.height = Math.floor(curImageDimensions.height * 0.5);\n\n                            resizingCanvasContext.drawImage(resizingCanvas, 0, 0, curImageDimensions.width, curImageDimensions.height, 0, 0, halfImageDimensions.width, halfImageDimensions.height);\n\n                            curImageDimensions.width = halfImageDimensions.width;\n                            curImageDimensions.height = halfImageDimensions.height;\n                        }\n\n                        // Now do final resize for the resizingCanvas to meet the dimension requirments\n                        // directly to the output canvas, that will output the final image\n                        const outputCanvas = document.createElement('canvas');\n                        const outputCanvasContext = outputCanvas.getContext('2d');\n\n                        outputCanvas.width = width;\n                        outputCanvas.height = height;\n\n                        outputCanvasContext.drawImage(resizingCanvas, 0, 0, curImageDimensions.width, curImageDimensions.height, 0, 0, width, height);\n\n                        finalContent = outputCanvas.toDataURL();\n                    }\n\n                    this.drawn.restore(finalContent, () => {\n                        this.drawn.snapshots = [];\n                        this.drawn.undos = [];\n                        this.drawn.storeSnapshot();\n                    });\n                };\n            });\n\n            window.ipcRenderer.send('note-get', id);\n        }\n    },\n    methods: {\n        selectColor(colorName) {\n            this.color = colorName;\n            this.drawn.setStrokeColor(this.colors[this.color]);\n        },\n        incrementSize() {\n            this.size = this.size + 1;\n            this.drawn.setLineWidth(this.size);\n        },\n        decrementSize() {\n            if (this.size > 1) {\n                this.size = this.size - 1;\n                this.drawn.setLineWidth(this.size);\n            }\n        },\n        undo() {\n            this.drawn.undo();\n        },\n        discardChanges() {\n            if (window.history.length > 1) {\n                this.$router.go(-1);\n            } else {\n                this.$router.push('/');\n            }\n        },\n        save() {\n            // window.test();\n            // console.log(window.ipcRenderer.sendSync('synchronous-message', 'ping'));\n\n            // window.ipcRenderer.on('drawn-save-reply', (event, arg) => {\n            //     this.discardChanges();\n            // });\n\n            this.buttonBlock = true;\n\n            window.ipcRenderer.once('note-drawn-save-reply', () => {\n                this.discardChanges();\n            });\n\n            window.ipcRenderer.send('note-drawn-save', { id: this.$route.params.id, content: this.drawn.save() });\n        },\n    },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoteDrawn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoteDrawn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NoteDrawn.vue?vue&type=template&id=55f564be&scoped=true&\"\nimport script from \"./NoteDrawn.vue?vue&type=script&lang=js&\"\nexport * from \"./NoteDrawn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NoteDrawn.vue?vue&type=style&index=0&id=55f564be&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55f564be\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}